# pixel-perfect

This repository is for the documentation of my work using a clustering algorithm to generate adaptive apertures used for TESS photometric time-series. In this repository are two jupyter notebooks: pipeline.ipynb and seismic_test.ipynb. 

pipeline.ipynb: has the code used to generate the adpative aperture. Given a TIC ID, a time-series of the effective PSF is generated for the target (using the [tglc](https://github.com/TeHanHunter/TESS_Gaia_Light_Curve) package). Then HDBSCAN is used to identify an aperture at each time step in the ePSF images. Only pixels found in a specified fraction of time steps is then used in the final aperture. The final aperture is applied to the whole time series to generate a light curve. Light curves are then detrended using the [ReggressionCorrector](https://lightkurve.github.io/lightkurve/tutorials/2-creating-light-curves/2-3-removing-scattered-light-using-regressioncorrector.html) method from the lightkurve package. 

seismic_test.ipynb: has the code used to generate power spectra from these light curves and to look at the SNR via the subtraction of a linear background model to the oscillation envelope. At the end of this notebook you can also reproduce figure 19 from [Hon et al. 2021](https://ui.adsabs.harvard.edu/abs/2021ApJ...919..131H/abstract).

Notes: Currently the power spectra created to not quite match those of [Hon et al. 2021](https://ui.adsabs.harvard.edu/abs/2021ApJ...919..131H/abstract). As I only pulled the first available TESS sector for each target it is not guaranteed that the first sector was the one [Hon et al. 2021](https://ui.adsabs.harvard.edu/abs/2021ApJ...919..131H/abstract) found oscillations in. As such you may notice some of these light curves are rather noisy with unusual signals (all around ~60 microhertz). Because of this, it is difficult to say whether or not adaptive apertures via a clustering algorithm perform better than a simple 3x3 pixel mask or other shapes/sizes based on magnitude.
